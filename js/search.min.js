var search_Mod=(function(d,f){function c(g,i){var h={};h[g]=null;d("#search_"+g).on("keyup",function(){var j=d(this).val().toLowerCase();if(j!=""){d(".fa-search",d(this).prev()).addClass("hide");d(".clear",d(this).prev()).removeClass("hide")}else{d(".fa-search",d(this).prev()).removeClass("hide");d(".clear",d(this).prev()).addClass("hide")}if(j.length>1){clearTimeout(h[g]);h[g]=setTimeout(function(){d.nicenotify({ntype:"ajax",uri:"/"+baseadmin+"/plugins.php?name=blocklink&getlang="+getlang+"&action=search",typesend:"get",noticedata:{q:j,search_type:g},beforeParams:function(){var k=d(document.createElement("tr")).attr("id","loader").append(d(document.createElement("td")).addClass("text-center").append(d(document.createElement("span")).addClass("fa fa-spinner fa-pulse")));d("#no-"+g).prevAll("tr").remove();d("#no-"+g).before(k)},successParams:function(k){d("#loader").remove();d.nicenotify.initbox(k,{display:false});if(k===f){console.log(k)}if(k!==null){d(i+" .search-results").removeClass("hide");d("#no-"+g).before(k)}b(g);e()}})},100)}else{d("#no-"+g).prevAll("tr").remove();d(i+" .search-results").addClass("hide");b(g)}});d("#"+g+"-link .clear").click(function(j){j.preventDefault();a(g);return false})}function e(){d(".link").click(function(){var g={url:d(this).data("url"),title:d(this).data("name")};d("#url").val(g.url);d("#title").val(g.title)})}function b(g){var h=d("#list_"+g+" tr");if(h.length>1){d("#no-"+g).addClass("hide")}else{var i=d("#search_"+g).val();if(i!=""&&i.toLowerCase().length>1){d("#no-"+g).removeClass("hide")}else{d("#no-"+g).addClass("hide")}}}function a(){d(".search-box input").val("");d(".clear").addClass("hide").prev().removeClass("hide");d(".search-results tr:last-child").addClass("hide").prevAll("tr").remove();d(".search-results").addClass("hide")}return{run:function(){c("cms","#cms-link");c("cat","#cat-link");d(function(){d("#search-module input").each(function(){var i="#"+d(this).attr("id")+"-link",h=d(this).val(),g=d(this);if(h!=""){d(".fa-search",d(this).prev()).addClass("hide");d(".clear",d(this).prev()).removeClass("hide")}else{d(".fa-search",d(this).prev()).removeClass("hide");d(".clear",d(this).prev()).addClass("hide")}d(this).on("focusin",function(){var j=d(".search-results tbody tr",d(i));if(j.length>1||(d(this).val()!=""&&d(this).val().toLowerCase().length>1)){d(".search-results",d(i)).removeClass("hide")}});d(this).on("focusout",function(j){d(document).mouseup(function(k){if(j.target!==k.target&&d(".search-results",d(i)).has(k.target).length===0&&!d(".search-results",d(i)).hasClass("hide")){d(".search-results",d(i)).addClass("hide")}})})})})},clear:function(g){a(g)}}})(jQuery);